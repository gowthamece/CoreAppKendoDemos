<!--<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
</head>
<body>
    <button id="ajaxBtn" type="button">Click Me</button>
</body>
<script>

    var text = "<author>" +
        "<FirstName>Bob</FirstName>" +
        "<LastName>Ross</LastName>" +
        "</author>";

    var parser = new DOMParser();
    var xmlDoc = parser.parseFromString(text, "text/xml"); //string to XML
    console.log(xmlDoc);
    console.log(xmlDoc.all)
    console.log(xmlDoc.getElementsByTagName("FirstName")[0].textContent);

    var xmlString = (new XMLSerializer()).serializeToString(xmlDoc); // XML to String
    console.log(xmlString);
</script>

    (function () {



        //document.getElementById("demo").innerHTML =
        //    xmlDoc.getElementsByTagName("title")[0].childNodes[0].nodeValue;


        document.getElementById("ajaxBtn").addEventListener('click', makeRequest);

        function makeRequest() {
            var httpRequest = new XMLHttpRequest();

            if (!httpRequest) {
                alert('Giving up :( Cannot create an XMLHTTP instance');
                return false;
            }

            httpRequest.onreadystatechange = function () {
                if (httpRequest.readyState === XMLHttpRequest.DONE) {
                    if (httpRequest.status === 200) {
                        //console.log(httpRequest.getResponseHeader('Content-Type'));
                        console.log(httpRequest.getAllResponseHeaders());
                        console.log(httpRequest.responseText);
                    } else {
                        alert('There was a problem with the request.');
                    }
                }
            };
            httpRequest.timeout = 50; //20 seconds
            httpRequest.ontimeout = function () {
                alert('Time out');
            }
            httpRequest.open('GET', 'http://localhost:11207/api/Customer/CustomerDetails', true);
            httpRequest.setRequestHeader('Content-Type', 'application/json');
            httpRequest.send();

            console.log("Asynchronous call")
        }


    })();
</script>
</html>-->

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
</head>
<body>
    <button id="btnAsync" type="button">Click Me</button>
</body>
<   script>
    (function () {
        document.getElementById("btnAsync").addEventListener('click', makeRequest);//attaching click event for button 
        function makeRequest() {
            var httpRequest = new XMLHttpRequest();// Initiatlization of XMLHttpRequest
            if (!httpRequest) {
                alert(' Cannot create an XMLHTTP instance');
                return false;
            }
            httpRequest.onreadystatechange = function () {        // ready state event, will be executed once the server send back the data 
                if (httpRequest.readyState === XMLHttpRequest.DONE) {
                    if (httpRequest.status === 200) {
                        alert(httpRequest.responseText);
                    } else {
                        alert('There was a problem with the request.');
                    }
                }
            };
            httpRequest.open('GET', 'http://localhost:11207/api/Customer/CustomerDetails'); // service call 
            httpRequest.send();
        }
    })();
</script>
</html>
